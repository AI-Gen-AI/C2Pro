#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "üîç Ejecutando validaciones pre-commit..."

# Validar que hay cambios para validar
if ! git rev-parse --verify HEAD >/dev/null 2>&1 || if git rev-parse --verify HEAD >/dev/null 2>&1; then
    git diff-index --cached --quiet HEAD
else
    echo "No previous commit"
fi; then
    echo "‚ö†Ô∏è Sin cambios para validar"
    exit 0
fi

echo "‚úì Cambios detectados"

# Ejecutar lint si est√° disponible
npm run lint --if-present; exit $?

echo "‚úÖ Pre-commit validaci√≥n completada"
